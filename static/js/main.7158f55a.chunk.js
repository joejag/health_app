(this.webpackJsonphealth_app=this.webpackJsonphealth_app||[]).push([[0],{10:function(e,t,s){},11:function(e,t,s){},13:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),n=s(4),o=s.n(n),c=(s(10),s(5)),i=(s(11),s(3)),l=new Date("04/26/2022");function h(e){var t=new Date(e),s=(new Date).getTime()-t.getTime(),a=Math.round(s/864e5);return Math.abs(a)}var d=function(e){var t="https://mysplmqrfc.execute-api.eu-west-2.amazonaws.com/serverless_lambda_stage/weight";window.location.href.indexOf("localhost")>-1&&(t="http://localhost:8000"),fetch(t).then((function(e){return e.json()})).then((function(t){e(function(e){for(var t=[],s=0;s<e.length;s++){var a=e[s],r="yellow",n="yellow",o=a.diff>0?"red":"green";if(0!==s){var c=e[s-1];r=a.totalWeight>c.totalWeight?"red":"green",a.totalWeight>c.totalWeight&&a.fat<=c.fat&&(r="yellow"),n=a.fat>c.fat?"red":"green"}t.push(Object(i.a)(Object(i.a)({},a),{},{weightColor:r,fatColor:n,diffColor:o}))}return t}(t).reverse())}),(function(e){console.log(e)}))},j=s(0),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var g=function(){var e=r.a.useState([]),t=Object(c.a)(e,2),s=t[0],a=t[1];r.a.useEffect((function(){d(a)}),[]);var n=function(e){if(0===e.length)return{amountLost:0,startWeight:0,currentWeight:0,amountLeftToLose:0,daysToRobRoyWay:0,weeksToRobRoyWay:0,fatLossProgress:0,periodProgress:0,desiredWeight:0};var t=e[0],s=e[e.length-1],a=h(l)/7,r=h(l)%7,n=s.fat-3,o=t.fat-s.fat,c=t.fat-n>0?t.fat-n:0,i=Math.abs(o)/3,d=h(new Date(s.date))/28;return{weeksToRobRoyWay:Math.floor(a),daysToRobRoyWay:r,startWeight:s.fat,currentWeight:t.fat,desiredWeight:Math.round(10*n)/10,amountLost:Math.round(10*o)/10,amountLeftToLose:Math.round(10*c)/10,fatLossProgress:Math.round(100*i),periodProgress:Math.round(100*d)}}(s),o=n.startWeight,i=n.currentWeight,g=n.amountLost,f=n.amountLeftToLose,u=n.daysToRobRoyWay,x=n.weeksToRobRoyWay,O=n.fatLossProgress,p=n.periodProgress,m=n.desiredWeight;return Object(j.jsxs)("main",{children:[Object(j.jsx)("div",{className:"progress-container tooltip",children:Object(j.jsxs)("div",{className:"progress-bar",children:[Object(j.jsx)("span",{className:"progress-bar-fill ",style:{width:"".concat(O>100?100:O,"%")}}),Object(j.jsxs)("span",{className:"tooltiptext",children:[O,"% fat lost"]})]})}),Object(j.jsx)("div",{className:"progress-container tooltip",children:Object(j.jsxs)("div",{className:"progress-bar",children:[Object(j.jsx)("span",{className:"progress-bar-fill-days",style:{width:"".concat(p>100?100:p,"%")}}),Object(j.jsxs)("span",{className:"tooltiptext",children:[p,"% into time period"]})]})}),s.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{children:[o,"kg | ",Object(j.jsxs)("span",{className:"green",children:[g,"kg"]})," |"," ",Object(j.jsxs)("span",{className:"fat",children:[i,"kg"]})," |"," ",Object(j.jsxs)("span",{className:"red",children:[f,"kg"]})," | ",m,"kg"]}),Object(j.jsx)("p",{className:"target-date",children:Object(j.jsxs)("em",{children:[x," weeks and ",u," days remaining to 21kg goal"]})}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Date"}),Object(j.jsxs)("th",{children:["Weight",Object(j.jsx)("br",{}),"(Fat + Lean)"]}),Object(j.jsxs)("th",{children:["Calories",Object(j.jsx)("br",{}),"(Exercise - Ate)"]})]})}),Object(j.jsx)("tbody",{children:s.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[b[new Date(e.date).getDay()],Object(j.jsx)("br",{}),e.date]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{className:e.weightColor,children:e.totalWeight}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"fat ".concat(e.fatColor),children:e.fat})," ","+ ",Object(j.jsx)("span",{children:e.lean})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{className:e.diffColor,children:e.diff}),Object(j.jsx)("br",{}),e.exercise," - ",e.ate]})]},e.date)}))})]})]}),Object(j.jsxs)("div",{className:"previous-weights",children:["19kg: Ben More",Object(j.jsx)("br",{}),"21kg: West Highland Way / Beinn Eighe",Object(j.jsx)("br",{}),"24kg: Ben An",Object(j.jsx)("br",{}),"27kg: South Glen Sheil Ridge / Ben Lui"]})]})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.7158f55a.chunk.js.map